# WaongDaong 모듈 구조 가이드

이 문서는 WaongDaong 애플리케이션의 모듈 구조와 각 모듈의 역할, 기능, 아키텍처에 대해 설명합니다.

## 📁 모듈 구조 개요

```
lib/modules/
├── core/          # 핵심 공통 기능
├── auth/          # 인증 및 사용자 관리
├── content/       # 학습 콘텐츠 관리
├── learning/      # 학습 세션 및 결과 관리
├── study/         # 스터디 그룹 관리
├── user/          # 사용자 프로필 및 설정
├── report/        # 신고 시스템
├── point/         # 포인트 시스템
└── supabase/      # Supabase 백엔드 연동
```

## 🔧 Core Module

### 역할
애플리케이션 전체에서 공통으로 사용되는 핵심 기능들을 제공합니다.

### 주요 구성 요소
- **AppConstants**: 애플리케이션 전반에 걸쳐 사용되는 상수들
  - API 타임아웃, 페이지 크기, 비밀번호 최소 길이
  - 영어 레벨, 콘텐츠 타입, 스터디 그룹 상태 등
- **Result<T>**: 비동기 작업 결과를 일관되게 처리하는 래퍼 클래스
  - Success, Failure, Loading 상태 관리
  - 에러 처리 및 로딩 상태 표시를 위한 표준화된 방식

### 특징
- 의존성이 없는 순수한 유틸리티 모듈
- 다른 모든 모듈에서 공통으로 사용
- 애플리케이션의 일관성과 유지보수성 향상

## 🔐 Auth Module

### 역할
사용자 인증, 회원가입, 로그인/로그아웃, 비밀번호 재설정 등의 인증 관련 기능을 담당합니다.

### 주요 구성 요소
- **AuthUser**: 인증된 사용자의 기본 정보 모델
  - 사용자 ID, 이메일, 닉네임, 생성일, 마지막 로그인 시간
  - 현재 영어 레벨 정보
- **UserProfile**: 사용자의 상세 프로필 정보 모델
  - 현재/목표 영어 레벨, 자기소개, 아바타 URL
  - 관심사, 테스트 점수 (TOEIC, TOEFL 등)
- **AuthService**: 인증 관련 비즈니스 로직 처리
  - 이메일/비밀번호 기반 회원가입 및 로그인
  - 비밀번호 재설정, 사용자 프로필 관리

### 특징
- Supabase Auth와 연동하여 안전한 인증 처리
- 사용자 프로필의 CRUD 작업 지원
- 영어 레벨 기반의 개인화된 서비스 제공

## 📚 Content Module

### 역할
영어 학습을 위한 다양한 콘텐츠(뉴스, 기사, 컬럼 등)를 관리하고 제공합니다.

### 주요 구성 요소
- **Content**: 학습 콘텐츠 모델
  - 제목, 내용, 콘텐츠 타입, 출처 URL
  - 난이도 레벨, 카테고리, 태그
- **ContentService**: 콘텐츠 관리 및 검색 서비스
  - 페이지네이션과 필터링을 지원하는 콘텐츠 조회
  - 사용자 관심사 기반 추천 콘텐츠 제공
  - 콘텐츠 검색 및 카테고리별 분류

### 주요 기능
- **콘텐츠 조회**: 타입, 난이도, 카테고리별 필터링
- **검색**: 제목과 내용에서 키워드 검색
- **추천**: 사용자 관심사 기반 개인화된 콘텐츠 추천
- **통계**: 콘텐츠 타입별, 난이도별 통계 제공

### 특징
- 효율적인 페이지네이션으로 대용량 데이터 처리
- 다양한 필터링 옵션으로 사용자 맞춤형 콘텐츠 제공
- 실시간 검색 및 추천 시스템

## 🎓 Learning Module

### 역할
사용자의 개별 학습 활동을 추적하고, 학습 결과를 분석하여 개인화된 학습 경험을 제공합니다.

### 주요 구성 요소
- **LearningSession**: 개별 학습 세션 모델
  - 학습 시작/종료 시간, 학습 시간, 이해도 점수
  - 세션 상태 (진행 중, 일시정지, 완료)
  - 스터디 그룹 연동 정보
- **LearningResult**: 학습 결과 상세 정보 모델
  - 어휘, 문법, 읽기, 듣기 영역별 점수
  - 총점, 피드백, 생성 시간
- **LearningService**: 학습 활동 관리 서비스
  - 학습 세션의 전체 라이프사이클 관리
  - 학습 통계 및 분석 데이터 제공

### 주요 기능
- **세션 관리**: 시작, 일시정지, 재개, 완료
- **진행 추적**: 실시간 학습 시간 및 상태 모니터링
- **결과 분석**: 영역별 점수 및 종합 평가
- **통계 제공**: 총 학습 시간, 완료된 세션 수, 평균 이해도

### 특징
- 유연한 학습 세션 관리로 다양한 학습 패턴 지원
- 상세한 학습 결과 분석으로 개선점 파악 가능
- 스터디 그룹과 연동하여 협업 학습 지원

## 👥 Study Module

### 역할
사용자들이 함께 학습할 수 있는 스터디 그룹을 생성하고 관리합니다.

### 주요 구성 요소
- **StudyGroup**: 스터디 그룹 모델
  - 그룹명, 설명, 카테고리, 최대 인원
  - 정모 시간, 장소, 그룹 상태
- **StudyService**: 스터디 그룹 관리 서비스
  - 그룹 생성, 수정, 삭제
  - 멤버 관리, 가입 신청 처리

### 주요 기능
- **그룹 관리**: 생성, 수정, 삭제, 상태 변경
- **멤버십 관리**: 가입 신청, 승인/거절, 탈퇴
- **검색 및 필터링**: 카테고리, 상태, 키워드 기반 그룹 검색
- **통계 제공**: 멤버 수, 대기 신청 수, 학습 세션 수

### 특징
- 체계적인 그룹 관리 시스템
- 가입 신청 승인 프로세스로 그룹 품질 관리
- 사용자별 그룹 활동 추적 및 통계

## 👤 User Module

### 역할
사용자의 개인 정보, 프로필, 관심사, 테스트 점수 등을 관리합니다.

### 주요 구성 요소
- **UserProfile**: 사용자 상세 프로필 모델
  - 기본 정보, 영어 레벨, 자기소개
  - 관심사, 테스트 점수, 아바타
- **UserService**: 사용자 정보 관리 서비스
  - 프로필 CRUD, 관심사 관리, 테스트 점수 업데이트
  - 아바타 업로드/삭제, 사용자 검색

### 주요 기능
- **프로필 관리**: 상세 정보 수정, 아바타 관리
- **관심사 관리**: 학습 관심 분야 설정 및 업데이트
- **테스트 점수**: 다양한 영어 시험 점수 기록 및 관리
- **사용자 검색**: 닉네임, 레벨 기반 사용자 검색

### 특징
- 포괄적인 사용자 프로필 관리
- 관심사 기반 콘텐츠 추천 연동
- 영어 레벨 기반 개인화 서비스

## 📊 Report Module

### 역할
사용자의 학습 활동에 대한 보고서(리포트)를 생성하고 분석하는 시스템을 제공합니다.

### 주요 구성 요소
- **Report**: 학습 리포트 정보 모델
  - 개인학습 리포트, 스터디그룹 리포트
  - 학습 성과, 참여도, 개선점
- **ReportService**: 리포트 생성 및 분석 서비스
  - 리포트 생성, 조회, 통계 분석

### 주요 기능
- **개인학습 리포트**: 혼자학습 활동 요약 및 분석
  - 학습 시간, 완료 콘텐츠, 이해도 점수
- **스터디그룹 리포트**: 그룹 토론 참여 활동 분석
  - 발언 횟수, 참여 시간, 참여도 점수
- **학습 패턴 분석**: 개인별 학습 습관 및 개선점
- **통계 제공**: 학습 성과 및 참여도 통계

### 특징
- 체계적인 학습 활동 추적 및 분석
- 개인별 맞춤형 학습 피드백 제공
- 학습 성과 시각화를 통한 동기 부여

## ⭐ Point Module

### 역할
사용자의 학습 활동과 참여에 대한 보상을 포인트로 제공하고 관리합니다.

### 주요 구성 요소
- **PointTransaction**: 포인트 거래 내역 모델
  - 거래 타입, 금액, 잔액, 설명
  - 참조 정보, 만료 시간
- **PointService**: 포인트 시스템 관리 서비스
  - 포인트 적립/사용/환불, 보너스 지급
  - 거래 내역, 통계, 만료 처리

### 주요 기능
- **포인트 적립**: 학습 완료, 스터디 그룹 참여 등
- **포인트 사용**: 프리미엄 콘텐츠, 특별 기능 등
- **자동 계산**: 학습 시간과 이해도 기반 포인트 계산
- **만료 관리**: 포인트 유효기간 관리 및 자동 만료

### 포인트 적립 기준
- **학습 완료**: 1분당 1포인트 + 이해도 10점당 1포인트
- **스터디 그룹**: 가입 10포인트, 참석 5포인트, 기여 15포인트
- **보너스**: 이벤트, 특별 활동 등

### 특징
- 학습 동기 부여를 위한 체계적인 보상 시스템
- 다양한 활동에 대한 포인트 적립으로 참여도 향상
- 포인트 만료 시스템으로 적극적인 사용 유도

## 🗄️ Supabase Module

### 역할
Supabase 백엔드 서비스와의 연동을 담당하며, 공통적인 데이터베이스 및 스토리지 기능을 제공합니다.

### 주요 구성 요소
- **SupabaseConfig**: Supabase 설정 정보
  - 프로젝트 URL, 익명 키, 서비스 키
- **AuthService**: Supabase Auth 연동
- **DatabaseService**: 데이터베이스 연동
- **StorageService**: 파일 스토리지 연동

### 특징
- 중앙화된 Supabase 설정 관리
- 모든 모듈에서 공통으로 사용하는 백엔드 연동
- 보안 및 인증 정보의 안전한 관리

## 🔄 모듈 간 상호작용

### 데이터 흐름
1. **Auth Module** → 사용자 인증 후 다른 모듈에서 사용자 정보 활용
2. **Content Module** → 사용자 관심사와 레벨에 맞는 콘텐츠 제공
3. **Learning Module** → 학습 활동 추적 및 포인트 적립 연동
4. **Study Module** → 그룹 활동 시 포인트 적립 및 학습 세션 연동
5. **Point Module** → 모든 활동에 대한 보상 시스템 제공
6. **Report Module** → 학습 활동 분석 및 성과 리포트 생성

### 의존성 관계
- **Core Module**: 모든 모듈의 기반
- **Supabase Module**: 백엔드 연동을 위한 공통 인프라
- **Auth Module**: 사용자 인증이 필요한 모든 모듈의 기반
- **User Module**: 사용자 정보가 필요한 모듈들과 연동
- **Content/Learning/Study Module**: 독립적으로 작동하지만 포인트 시스템과 연동
- **Report Module**: 학습 활동 데이터를 분석하여 리포트 생성
- **Point Module**: 모든 활동 모듈과 연동하여 보상 제공

## 🏗️ 아키텍처 특징

### 모듈화 원칙
- **단일 책임**: 각 모듈은 명확한 하나의 책임을 가짐
- **의존성 분리**: 모듈 간 느슨한 결합으로 유지보수성 향상
- **확장성**: 새로운 기능 추가 시 기존 모듈에 영향 최소화
- **재사용성**: 공통 기능은 Core Module에서 제공

### 설계 패턴
- **Service Layer**: 비즈니스 로직을 담당하는 서비스 계층
- **Model Layer**: 데이터 구조를 정의하는 모델 계층
- **Repository Pattern**: 데이터 접근을 추상화하는 리포지토리 패턴
- **Result Pattern**: 일관된 에러 처리와 응답 형식 제공

### 에러 처리
- **Result<T> 패턴**: 모든 비동기 작업의 결과를 표준화된 방식으로 처리
- **일관된 에러 메시지**: 사용자 친화적인 한국어 에러 메시지 제공
- **로깅 및 모니터링**: 에러 발생 시 적절한 로깅과 추적

## 📱 사용자 경험 (UX) 고려사항

### 개인화
- 사용자 레벨과 관심사 기반 콘텐츠 추천
- 학습 패턴 분석을 통한 맞춤형 학습 경로 제시
- 포인트 시스템을 통한 동기 부여

### 접근성
- 다양한 영어 레벨에 맞는 콘텐츠 제공
- 스터디 그룹을 통한 협업 학습 기회
- 체계적인 학습 진행 상황 추적

### 안전성
- 신고 시스템을 통한 부적절한 콘텐츠 관리
- 사용자 인증 및 권한 관리
- 데이터 보안 및 개인정보 보호

## 🚀 향후 확장 계획

### 추가 모듈
- **Notification Module**: 푸시 알림 및 이메일 알림
- **Analytics Module**: 사용자 행동 분석 및 인사이트
- **Gamification Module**: 배지, 리더보드 등 게임화 요소

### 기능 확장
- **AI 기반 추천**: 머신러닝을 활용한 콘텐츠 추천
- **실시간 협업**: 화상 회의, 실시간 채팅 등
- **모바일 최적화**: 네이티브 모바일 앱 개발

이 모듈 구조는 WaongDaong 애플리케이션이 확장 가능하고 유지보수하기 쉬운 아키텍처를 갖추도록 설계되었습니다.
